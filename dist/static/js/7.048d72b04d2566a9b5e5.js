webpackJsonp([7],{"6rWr":function(e,s){},Ntyz:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r={name:"Login",data:function(){return{userName:"",password:""}},methods:{check_form:function(){if(this.userName&&this.password)this.submit_login();else{var e=this.userName?"密码":"用户名";this.$message({showClose:!0,message:"请输入"+e+"!",type:"error"})}},submit_login:function(){var e=this;this.$api.login("/login",{userName:this.userName,password:this.password}).then(function(s){console.log(s);var t=s.data.data;e.checke_response(s)?(e.store_info(t),e.login_success(s)):e.login_failed(s)})},checke_response:function(e){return"ok"===e.data.status},login_success:function(e){this.$router.push({path:"/home"})},login_failed:function(e){this.$message({showClose:!0,message:e.data.msg,type:"error"})},store_info:function(e){this.$store.commit({type:"set_user_info",info:e})}}},a={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"login"},[t("div",{staticClass:"form-wrapper"},[t("el-input",{staticClass:"userName",attrs:{placeholder:"请输入用户名",clearable:""},model:{value:e.userName,callback:function(s){e.userName=s},expression:"userName"}}),e._v(" "),t("el-input",{staticClass:"pwd",attrs:{placeholder:"请输入密码","show-password":""},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}}),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.check_form(s)},keydown:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.check_form(s)}}},[e._v("登录")]),e._v(" "),t("p",{staticClass:"to_register"},[t("span",[e._v("还没有账号?")]),e._v(" "),t("router-link",{staticClass:"link",attrs:{to:{path:"/register"}}},[e._v("免费注册")])],1)],1)])},staticRenderFns:[]};var n=t("VU/8")(r,a,!1,function(e){t("6rWr")},"data-v-7c3525aa",null);s.default=n.exports}});
//# sourceMappingURL=7.048d72b04d2566a9b5e5.js.map