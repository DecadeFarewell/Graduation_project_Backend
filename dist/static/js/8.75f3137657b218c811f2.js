webpackJsonp([8],{VxIv:function(e,s){},mrsp:function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var t={data:function(){var e=this;return{ruleForm:{pass:"",checkPass:"",userName:""},rules:{userName:[{validator:function(e,s,r){if(!s)return r(new Error("用户名不能为空"));setTimeout(function(){s.length>6?r(new Error("用户名不能超过6个字符")):r()},1e3)},trigger:"blur"}],pass:[{validator:function(s,r,t){""===r?t(new Error("请输入密码")):(""!==e.ruleForm.checkPass&&e.$refs.ruleForm.validateField("checkPass"),t())},trigger:"blur"}],checkPass:[{validator:function(s,r,t){""===r?t(new Error("请再次输入密码")):r!==e.ruleForm.pass?t(new Error("两次输入密码不一致!")):t()},trigger:"blur"}]},strengthClass:""}},methods:{submit_register:function(){return this.$api.register("/register",{userName:this.ruleForm.userName,password:this.ruleForm.pass})},check_response:function(e){return"ok"===e.data.status},navto_login_page:function(e){var s=this;this.$message({message:"注册成功，3s后跳转至登录页面！",type:"success",duration:3e3});setTimeout(function(){s.$router.push({path:"/login"}),null},3500)},register_err:function(e){this.$message({showClose:!0,message:e.data.msg,type:"error"})},submitForm:function(e){var s=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.submit_register().then(function(e){console.log(e),s.check_response(e)?s.navto_login_page():s.register_err(e)}).catch(function(e){throw new Error(e)})})},resetForm:function(e){this.$refs[e].resetFields()},input:function(){var e=this.ruleForm.pass.match(/_/g)&&this.ruleForm.pass.match(/(\w)+/g)&&this.ruleForm.pass.match(/(\d)+/g);this.ruleForm.pass.length>20||this.ruleForm.pass.length>6&&e?this.strengthClass="strong":this.ruleForm.pass.length<6?this.strengthClass="week":this.ruleForm.pass?this.strengthClass="normal":this.strengthClass="",console.log(this.strengthClass)}}},a={render:function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("div",{staticClass:"register"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[r("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.userName,callback:function(s){e.$set(e.ruleForm,"userName",s)},expression:"ruleForm.userName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"pass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},on:{input:e.input},model:{value:e.ruleForm.pass,callback:function(s){e.$set(e.ruleForm,"pass",s)},expression:"ruleForm.pass"}}),e._v(" "),this.ruleForm.pass?r("div",{staticClass:"pw-strength"},[r("div",{class:["bar",e.strengthClass]}),e._v(" "),r("div",{staticClass:"strength"},[r("span",[e._v("弱")]),e._v(" "),r("span",[e._v("中")]),e._v(" "),r("span",[e._v("强")])])]):e._e()],1),e._v(" "),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.checkPass,callback:function(s){e.$set(e.ruleForm,"checkPass",s)},expression:"ruleForm.checkPass"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(s){return e.submitForm("ruleForm")}}},[e._v("提交")]),e._v(" "),r("span",{staticClass:"reset",on:{click:function(s){return e.resetForm("ruleForm")}}},[e._v("重置")])],1),e._v(" "),r("p",{staticClass:"to_login"},[r("span",[e._v("已有帐号")]),e._v(" "),r("router-link",{staticClass:"link",attrs:{to:{path:"/login"}}},[e._v("去登陆")])],1)],1)],1)},staticRenderFns:[]};var o=r("VU/8")(t,a,!1,function(e){r("VxIv")},"data-v-52d50f57",null);s.default=o.exports}});
//# sourceMappingURL=8.75f3137657b218c811f2.js.map